---
title: 'How to make an offline desktop app with Next.js'
date: '2024-06-05'
summary: 'An alternative to Electron or native platform.'
keywords: ['electron', 'next.js', 'typescript', 'react', 'desktop app', 'cross platform']
tags: ['cli', 'open source', 'next.js']
---

I wanted to have a GUI app for my personal project that required access to the file system. Ideally, I should create a desktop app using a native platform (e.g., Swift for macOS) or Electron for cross-platform support. However, developing a native app for macOS, Windows, and Linux would have taken time. The same applies to Electron, even though it's web-based.

So I had an idea. Since I am so used to making web apps using Next.js, why don't I make a Next.js app that anyone can run locally without _manually_ cloning and installing dependencies? It's basically like an Electron app but without the hassle of [managing window lifecycle](https://www.electronjs.org/docs/latest/tutorial/tutorial-first-app#managing-your-apps-window-lifecycle), [learning the process model](https://www.electronjs.org/docs/latest/tutorial/process-model), [packaging and code signing](https://www.electronjs.org/docs/latest/tutorial/distribution-overview), etc.

**It turned out it's possible**. I created this [next-app-as-npm template](https://github.com/nicnocquee/next-app-as-npm). Using the template, I can create the Next.js app as usual and then build it for production. The production build will then be published as an NPM package. Then anyone who wants to use the "desktop" app can simply run

```shell
npx the-package-name
```

Once the package is downloaded, it will automatically run the production build of the Next.js app and open the [http://localhost:4323](http://localhost:4323) URL in their browser.

## Writing and reading files

Writing and reading files from the file system is as easy as using the `node:fs` module as usual in the server part of Next.js, like in the [Route handlers (route.ts)](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) or in a [server action](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).

## Why use this?

|     |                                                                                                                                                                                                   |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ✅  | Your app targets other web developers. They most likely already have Node.js and NPM installed. So they can immediately use `npx`.                                                                |
| ✅  | You're already familiar with Next.js.js.                                                                                                                                                          |
| ✅  | Small package size. This template app is only 6.6 MB (excluding the dependencies, which will be downloaded when the user execute the CLI command).                                                |
| ✅  | Easy to update. Simply `npm publish --access public` to update the package. Then whenever the user runs `npx the-package-name@latest`, it will automatically download and run the latest version. |
| ✅  | Works offline! Note that you need to install the package globally with `npm i -g <package-name>@latest` instead of using `npx`.                                                                   |
| ✅  | No need for authentication because the app runs on user's own computer. How convenient is that?                                                                                                   |

Technically, we can also make a desktop app using the same technique with Remix or any other web frameworks. But since I'm already familiar with Next.js, I decided to use it first.

Visit the [repo](https://github.com/nicnocquee/next-app-as-npm) to see how it works and to give it a try.

---

By the way, [I'm making a book about Pull Requests Best Practices. Check it out](https://pr.nico.fyi)!
